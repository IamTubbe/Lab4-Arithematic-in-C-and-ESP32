#include <stdio.h>
#include "esp_log.h"
#include "freertos/FreeRTOS.h"
#include "freertos/task.h"

static const char *TAG = "TOYS_MATH";

void app_main(void)
{
    ESP_LOGI(TAG, "üß∏ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ô‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏á (Multiplication & Subtraction) üß∏");
    ESP_LOGI(TAG, "=================================================================");

    // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏à‡∏ó‡∏¢‡πå
    int friends = 10;           // ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    int toys_per_friend = 2;    // ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô
    int toys_have = 15;         // ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á

    // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ
    int toys_required = friends * toys_per_friend;

    ESP_LOGI(TAG, "üìñ ‡πÇ‡∏à‡∏ó‡∏¢‡πå:");
    ESP_LOGI(TAG, "   ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: %d ‡∏Ñ‡∏ô", friends);
    ESP_LOGI(TAG, "   ‡πÅ‡∏à‡∏Å‡∏Ñ‡∏ô‡∏•‡∏∞: %d ‡∏ä‡∏¥‡πâ‡∏ô", toys_per_friend);
    ESP_LOGI(TAG, "   ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: %d ‡∏ä‡∏¥‡πâ‡∏ô", toys_required);
    ESP_LOGI(TAG, "   ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á: %d ‡∏ä‡∏¥‡πâ‡∏ô", toys_have);
    ESP_LOGI(TAG, "");

    vTaskDelay(2000 / portTICK_PERIOD_MS);

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏û‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    if (toys_have >= toys_required) {
        ESP_LOGI(TAG, "‚úÖ ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏û‡∏≠‡πÅ‡∏à‡∏Å!");
        ESP_LOGI(TAG, "   ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏à‡∏Å ‡∏à‡∏∞‡πÄ‡∏´‡∏•‡∏∑‡∏≠ %d ‡∏ä‡∏¥‡πâ‡∏ô", toys_have - toys_required);
    } else {
        int shortage = toys_required - toys_have;
        ESP_LOGW(TAG, "‚ùå ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏≠!");
        ESP_LOGI(TAG, "   ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ %d ‡∏ä‡∏¥‡πâ‡∏ô ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡πÅ‡∏Ñ‡πà %d ‡∏ä‡∏¥‡πâ‡∏ô", toys_required, toys_have);
        ESP_LOGI(TAG, "   ‡∏Ç‡∏≤‡∏î‡πÑ‡∏õ %d ‡∏ä‡∏¥‡πâ‡∏ô", shortage);
    }

    ESP_LOGI(TAG, "");
    ESP_LOGI(TAG, "üßÆ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î:");
    ESP_LOGI(TAG, "   ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ = ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô x ‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô");
    ESP_LOGI(TAG, "   = %d x %d", friends, toys_per_friend);
    ESP_LOGI(TAG, "   = %d ‡∏ä‡∏¥‡πâ‡∏ô", toys_required);

    ESP_LOGI(TAG, "");
    ESP_LOGI(TAG, "üìö ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ:");
    ESP_LOGI(TAG, "   1. ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏π‡∏ì‡πÄ‡∏•‡∏Ç (Multiplication)");
    ESP_LOGI(TAG, "   2. ‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÄ‡∏•‡∏Ç (Subtraction)");
    ESP_LOGI(TAG, "   3. ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ if-else ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç");
    ESP_LOGI(TAG, "");

    ESP_LOGI(TAG, "üéâ ‡∏à‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 4!");
}
